<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ - ã¿ã‚“ãªã®ç¨å‹™é¡§å•</title>
    <meta name="description" content="ãƒãƒ£ãƒƒãƒˆã§æ°—è»½ã«ç¨å‹™ç›¸è«‡ã€‚ã‚ˆãã‚ã‚‹è³ªå•ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãŠç­”ãˆã—ã¾ã™ã€‚å€‹äººäº‹æ¥­ä¸»ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—å‘ã‘ç¨å‹™ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ£ãƒƒãƒˆã‚µãƒãƒ¼ãƒˆã€‚">
    
    <!-- OGP Tags -->
    <meta property="og:title" content="ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ - ã¿ã‚“ãªã®ç¨å‹™é¡§å•">
    <meta property="og:description" content="ãƒãƒ£ãƒƒãƒˆã§æ°—è»½ã«ç¨å‹™ç›¸è«‡ã€‚ã‚ˆãã‚ã‚‹è³ªå•ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãŠç­”ãˆã—ã¾ã™ã€‚å€‹äººäº‹æ¥­ä¸»ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—å‘ã‘ç¨å‹™ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ£ãƒƒãƒˆã‚µãƒãƒ¼ãƒˆã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://minzei-tax.com/chat">
    <meta property="og:image" content="https://minzei-tax.com/images/thumbnail.png">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="icon" href="images/minzeikun.png" type="image/png">

    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&family=Noto+Serif+JP:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Google Tag -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17411262353"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-17411262353');
    </script>
    
    <style>
    .chatbot-container {
        min-height: 100vh;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        padding: 80px 0 0 0;
    }
    
    .chat-wrapper {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        overflow: hidden;
        height: calc(100vh - 100px);
        display: flex;
        flex-direction: column;
    }
    
    .chat-header {
        background: linear-gradient(135deg, #14b8a6, #0891b2);
        color: white;
        padding: 20px;
        text-align: center;
        position: relative;
    }
    
    .chat-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0;
    }
    
    .chat-subtitle {
        font-size: 0.9rem;
        margin: 5px 0 0 0;
        opacity: 0.9;
    }
    
    .chat-messages {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        background: #f8fafc;
    }
    
    .message {
        margin-bottom: 20px;
        animation: fadeInUp 0.3s ease-out;
    }
    
    .message.bot {
        display: flex;
        align-items: flex-start;
        gap: 12px;
    }
    
    .message.user {
        display: flex;
        justify-content: flex-end;
    }
    
    .bot-avatar {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #14b8a6, #0891b2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 18px;
        flex-shrink: 0;
    }
    
    .message-content {
        background: white;
        padding: 15px 20px;
        border-radius: 20px;
        max-width: 70%;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        position: relative;
    }
    
    .message.bot .message-content {
        border-bottom-left-radius: 8px;
        margin-left: 0;
    }
    
    .message.user .message-content {
        background: linear-gradient(135deg, #0891b2, #0e7490);
        color: white;
        border-bottom-right-radius: 8px;
    }
    
    .message-time {
        font-size: 0.75rem;
        color: #64748b;
        margin-top: 8px;
        opacity: 0.8;
        font-weight: 500;
    }
    
    .message.user .message-time {
        color: rgba(255, 255, 255, 0.8);
    }
    
    .suggested-questions {
        padding: 15px 20px;
        background: white;
        border-top: 1px solid #e2e8f0;
    }
    
    .suggestions-title {
        font-size: 0.9rem;
        color: #64748b;
        margin-bottom: 10px;
        font-weight: 500;
    }
    
    .suggestion-chips {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .suggestion-chip {
        background: #f1f5f9;
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        padding: 8px 16px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.2s ease;
        color: #334155;
    }
    
    .suggestion-chip:hover {
        background: #e2e8f0;
        border-color: #14b8a6;
        color: #14b8a6;
    }
    
    .chat-input-area {
        padding: 20px;
        background: white;
        border-top: 1px solid #e2e8f0;
    }
    
    .input-wrapper {
        display: flex;
        gap: 12px;
        align-items: flex-end;
    }
    
    .chat-input {
        flex: 1;
        border: 2px solid #e2e8f0;
        border-radius: 25px;
        padding: 15px 20px;
        font-size: 1rem;
        resize: none;
        outline: none;
        transition: border-color 0.2s ease;
        font-family: inherit;
        max-height: 120px;
        min-height: 50px;
    }
    
    .chat-input:focus {
        border-color: #14b8a6;
    }
    
    .send-button {
        background: linear-gradient(135deg, #14b8a6, #0891b2);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.2s ease;
        font-size: 20px;
    }
    
    .send-button:hover {
        transform: scale(1.05);
    }
    
    .send-button:disabled {
        background: #94a3b8;
        cursor: not-allowed;
        transform: none;
    }
    
    .typing-indicator {
        display: none;
        padding: 15px 20px;
        background: white;
        border-radius: 20px;
        border-bottom-left-radius: 8px;
        max-width: 100px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .typing-dots {
        display: flex;
        gap: 4px;
    }
    
    .typing-dot {
        width: 8px;
        height: 8px;
        background: #94a3b8;
        border-radius: 50%;
        animation: typingDot 1.5s infinite;
    }
    
    .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
    }
    
    .welcome-message {
        text-align: center;
        padding: 40px 20px;
        color: #64748b;
    }
    
    .welcome-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: #1e293b;
    }
    
    .quick-start-buttons {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin-top: 20px;
    }
    
    .quick-start-btn {
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        font-size: 0.9rem;
        color: #334155;
    }
    
    .quick-start-btn:hover {
        border-color: #14b8a6;
        background: #f0fdfa;
        color: #14b8a6;
    }
    
    .quick-start-btn.highlight {
        background: linear-gradient(135deg, #0891b2, #0e7490);
        color: white;
        border-color: #0891b2;
    }
    
    .quick-start-btn.highlight:hover {
        background: linear-gradient(135deg, #0e7490, #155e75);
        border-color: #0e7490;
        color: white;
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes typingDot {
        0%, 20% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.2);
            opacity: 0.7;
        }
        80%, 100% {
            transform: scale(1);
            opacity: 1;
        }
    }
    
    /* Mobile Responsive */
    @media (max-width: 768px) {
        .chatbot-container {
            padding: 60px 10px 0 10px;
        }
        
        .chat-wrapper {
            height: calc(100vh - 80px);
            border-radius: 12px;
        }
        
        .message-content {
            max-width: 85%;
        }
        
        .quick-start-buttons {
            grid-template-columns: 1fr;
        }
        
        .suggestion-chips {
            justify-content: center;
        }
        
        .chat-title {
            font-size: 1.2rem;
        }
    }
    
    @media (max-width: 480px) {
        .chatbot-container {
            padding: 60px 5px 0 5px;
        }
        
        .chat-wrapper {
            height: calc(100vh - 70px);
        }
        
        .chat-messages {
            padding: 15px;
        }
        
        .chat-input-area {
            padding: 15px;
        }
        
        .message-content {
            max-width: 90%;
            padding: 12px 15px;
        }
    }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <header class="header">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <h1><a href="/">ã¿ã‚“ãªã®ç¨å‹™é¡§å•</a></h1>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="nav-desktop">
                    <a href="/#services" class="nav-link">ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹</a>
                    <a href="/#plans" class="nav-link">æ–™é‡‘</a>
                    <a href="/#cost-comparison" class="nav-link">ã‚³ã‚¹ãƒˆæ¯”è¼ƒ</a>
                </nav>
                
                <!-- Desktop CTA Button -->
                <div class="cta-desktop">
                    <a href="/#contact" class="btn btn-primary">ç”³è¾¼ã¯ã“ã¡ã‚‰</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <!-- Mobile Menu -->
                <nav class="mobile-menu" id="mobileMenu">
                    <a href="/#services" class="mobile-nav-link">ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹</a>
                    <a href="/#plans" class="mobile-nav-link">æ–™é‡‘</a>
                    <a href="/#cost-comparison" class="mobile-nav-link">ã‚³ã‚¹ãƒˆæ¯”è¼ƒ</a>
                    <a href="/#contact" class="btn btn-primary mobile-cta">ç”³è¾¼ã¯ã“ã¡ã‚‰</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Chatbot Container -->
    <section class="chatbot-container">
        <div class="container">
            <div class="chat-wrapper">
                <!-- Chat Header -->
                <div class="chat-header">
                    <h1 class="chat-title">ğŸ’¬ ã¿ã‚“ãªã®ç¨å‹™é¡§å• ãƒãƒ£ãƒƒãƒˆã‚µãƒãƒ¼ãƒˆ</h1>
                    <p class="chat-subtitle">ç¨å‹™ã«é–¢ã™ã‚‹ã”è³ªå•ã«ãŠç­”ãˆã—ã¾ã™</p>
                </div>
                
                <!-- Chat Messages Area -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Welcome Message -->
                    <div class="welcome-message" id="welcomeMessage">
                        <h3 class="welcome-title">ğŸ‰ ãƒãƒ£ãƒƒãƒˆã‚µãƒãƒ¼ãƒˆã¸ã‚ˆã†ã“ãï¼</h3>
                        <p>ç¨å‹™ã«é–¢ã™ã‚‹ã”è³ªå•ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã€ãŠæ°—è»½ã«ãŠèããã ã•ã„ã€‚<br>
                        ã‚ˆãã‚ã‚‹ã”è³ªå•ã‹ã‚‰é¸ã‚“ã§ã„ãŸã ãã‹ã€ç›´æ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <div class="quick-start-buttons">
                            <div class="quick-start-btn" onclick="sendQuickQuestion('ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã‚’æ•™ãˆã¦')">
                                ğŸ“‹ ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹
                            </div>
                            <div class="quick-start-btn" onclick="sendQuickQuestion('æ–™é‡‘ã«ã¤ã„ã¦æ•™ãˆã¦')">
                                ğŸ’° æ–™é‡‘ã«ã¤ã„ã¦
                            </div>
                            <div class="quick-start-btn" onclick="sendQuickQuestion('å¥‘ç´„æœŸé–“ã«ã¤ã„ã¦')">
                                ğŸ“ å¥‘ç´„ã«ã¤ã„ã¦
                            </div>
                            <div class="quick-start-btn highlight" onclick="sendQuickQuestion('ç¢ºå®šç”³å‘Šã«ã¤ã„ã¦')">
                                ğŸ“Š ç¢ºå®šç”³å‘Š
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Typing Indicator -->
                <div class="message bot" id="typingIndicator" style="display: none;">
                    <div class="bot-avatar">AI</div>
                    <div class="typing-indicator">
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Suggested Questions -->
                <div class="suggested-questions" id="suggestedQuestions">
                    <div class="suggestions-title">ğŸ’¡ ã‚ˆãã‚ã‚‹ã”è³ªå•</div>
                    <div class="suggestion-chips">
                        <div class="suggestion-chip" onclick="sendQuickQuestion('ä»–ã®ç¨ç†å£«äº‹å‹™æ‰€ã¨ã®é•ã„ã¯ï¼Ÿ')">ä»–ç¤¾ã¨ã®é•ã„</div>
                        <div class="suggestion-chip" onclick="sendQuickQuestion('AIãŒå¯¾å¿œã™ã‚‹ã®ï¼Ÿ')">AIãŒå¯¾å¿œï¼Ÿ</div>
                        <div class="suggestion-chip" onclick="sendQuickQuestion('é€”ä¸­è§£ç´„ã¯ã§ãã‚‹ï¼Ÿ')">é€”ä¸­è§£ç´„</div>
                        <div class="suggestion-chip" onclick="sendQuickQuestion('å¯¾é¢ç›¸è«‡ã¯ã‚ã‚‹ï¼Ÿ')">å¯¾é¢ç›¸è«‡</div>
                        <div class="suggestion-chip" onclick="sendQuickQuestion('å£²ä¸Š1000ä¸‡å††ã‚’è¶…ãˆãã†')">å£²ä¸Šä¸Šé™</div>
                    </div>
                </div>
                
                <!-- Chat Input Area -->
                <div class="chat-input-area">
                    <div class="input-wrapper">
                        <textarea 
                            class="chat-input" 
                            id="chatInput" 
                            placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."
                            rows="1"
                            onkeydown="handleInputKeydown(event)"
                            oninput="autoResize(this)"
                        ></textarea>
                        <button class="send-button" id="sendButton" onclick="sendMessage()">
                            â¤
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // FAQ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
        const faqDatabase = {
            // ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦
            "ã©ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹": {
                answer: "å¹´å•†1,000ä¸‡å††ä»¥ä¸‹ã®å€‹äººäº‹æ¥­ä¸»ã‚„ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®æ–¹å‘ã‘ã«ã€AIã‚’æ´»ç”¨ã—ä½ä¾¡æ ¼ã§ç¨å‹™é¡§å•ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ãƒãƒ£ãƒƒãƒˆã§ã®ç¨å‹™ç›¸è«‡ã€è¨˜å¸³ä»£è¡Œã€ç¢ºå®šç”³å‘Šã®ã‚µãƒãƒ¼ãƒˆã‚’ä¸»ãªã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã„ã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹": {
                answer: "ä¸»ã«ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ï¼š\n\nâ€¢ ãƒãƒ£ãƒƒãƒˆã§ã®ç¨å‹™ç›¸è«‡\nâ€¢ è¨˜å¸³ä»£è¡Œ\nâ€¢ ç¢ºå®šç”³å‘Šæ›¸ã¾ãŸã¯æ±ºç®—ç”³å‘Šæ›¸ã®ä½œæˆãƒ»æå‡º\nâ€¢ ç¯€ç¨ã‚„è³‡é‡‘ç¹°ã‚Šã«é–¢ã™ã‚‹æƒ…å ±æä¾›\n\næœˆé¡980å††ï¼ˆç¨è¾¼ï¼‰ã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã€å°è¦æ¨¡äº‹æ¥­è€…ç‰¹åŒ–ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "ä»–ã®ç¨ç†å£«äº‹å‹™æ‰€ã¨ã®é•ã„": {
                answer: "æœ€æ–°AIã®æ´»ç”¨ã«ã‚ˆã‚Šã€æœˆé¡980å††ï¼ˆç¨è¾¼ï¼‰ã‹ã‚‰ã¨ã„ã†åœ§å€’çš„ãªä½ä¾¡æ ¼ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ç‚¹ãŒæœ€å¤§ã®ç‰¹å¾´ã§ã™ã€‚å°è¦æ¨¡äº‹æ¥­è€…ã«ç‰¹åŒ–ã™ã‚‹ã“ã¨ã§ã€æ‰‹åšã„ã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "AIãŒå¯¾å¿œ": {
                answer: "ã„ã„ãˆã€ã”ç›¸è«‡ã«ã¯AIã§ã¯ãªãã€æ‹…å½“è€…ãŒç›´æ¥å¯¾å¿œã„ãŸã—ã¾ã™ã®ã§ã”å®‰å¿ƒãã ã•ã„ã€‚AIã¯æ¥­å‹™åŠ¹ç‡åŒ–ã®ãŸã‚ã«æ´»ç”¨ã—ã¦ã„ã¾ã™ãŒã€ãŠå®¢æ§˜ã¨ã®ç›¸è«‡ã¯äººãŒå¯¾å¿œã—ã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "é ˜åæ›¸": {
                answer: "ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§å†™çœŸã‚’æ’®ã‚‹ã‹ã€ã‚¹ã‚­ãƒ£ãƒ³ã‚’ã—ã¦ã„ãŸã ã„ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã€å¼Šç¤¾ã‹ã‚‰å…±æœ‰ã™ã‚‹Googleãƒ‰ãƒ©ã‚¤ãƒ–ã®æŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã—ã¦ã„ãŸã ãã¾ã™ã€‚è³‡æ–™æå‡ºã®ãŸã‚ã«ã€äº‹å‰ã«Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã”æº–å‚™ã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "1000ä¸‡å††": {
                answer: "ã€Œã¿ã‚“ãªã®ç¨å‹™é¡§å•ã€ã¯å¹´å•†1,000ä¸‡å††æœªæº€ã®äº‹æ¥­è€…æ§˜ã‚’å¯¾è±¡ã¨ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ã”å¥‘ç´„å‰ã‹ã‚‰1,000ä¸‡å††ã‚’è¶…ãˆã‚‹è¦‹è¾¼ã¿ã®å ´åˆã‚„ã€ã”å¥‘ç´„æœŸé–“ã®é€”ä¸­ã§å¹´å•†ãŒ1,000ä¸‡å††ã‚’è¶…ãˆãŸå ´åˆã¯ã€é‹å–¶æ¯ä½“ã§ã‚ã‚‹ã€Œã‚½ãƒ«ãƒ“ã‚¹ç¨ç†å£«æ³•äººã€ã¨ã®ã”å¥‘ç´„ã«åˆ‡ã‚Šæ›¿ãˆã¦ã€å¼•ãç¶šãã‚µãƒãƒ¼ãƒˆã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },
            "å¯¾é¢": {
                answer: "ã„ã„ãˆã€ã‚„ã‚Šå–ã‚Šã¯ãƒãƒ£ãƒƒãƒˆãŒåŸºæœ¬ã¨ãªã‚Šã€å¯¾é¢ã‚„ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®é¢è«‡ã¯è¡Œã£ã¦ãŠã‚Šã¾ã›ã‚“ã€‚æ¥­å‹™ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã“ã¨ã§ãŠæ‰‹é ƒãªä¾¡æ ¼ã‚’å®Ÿç¾ã—ã¦ãŠã‚Šã¾ã™ã€‚",
                category: "ã‚µãƒ¼ãƒ“ã‚¹"
            },

            // æ–™é‡‘ã«ã¤ã„ã¦
            "æ–™é‡‘": {
                answer: "æ–™é‡‘ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š\n\nâ€¢ æœˆé¡é¡§å•æ–™: 980å††ï¼ˆç¨è¾¼ï¼‰\nâ€¢ æœˆé–“è¨˜å¸³ä»£è¡Œæ–™: 2,980å††ï½ï¼ˆç¨è¾¼ï¼‰/100ä»¶ã‚ãŸã‚Š\nâ€¢ ç”³å‘Šæ–™: 39,800å††ï¼ˆç¨è¾¼ï¼‰\nâ€¢ æ¶ˆè²»ç¨ç”³å‘Šæ–™: 29,800å††ï¼ˆç¨è¾¼ï¼‰â€»åˆ¥é€”\nâ€¢ æœˆé–“ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ æ–™: 980å††ï¼ˆç¨è¾¼ï¼‰\n\nè©³ç´°ãªæ–™é‡‘ã«ã¤ã„ã¦ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ã”ç¢ºèªãã ã•ã„ã€‚",
                category: "æ–™é‡‘"
            },
            "å¥‘ç´„æœŸé–“": {
                answer: "ã¯ã„ã€åˆå›ã®ã”å¥‘ç´„ã‹ã‚‰1å¹´é–“ã®æœ€ä½åˆ©ç”¨æœŸé–“ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚æœŸé–“æº€äº†ã®7æ—¥å‰ã¾ã§ã«è§£ç´„ã®ãŠç”³ã—å‡ºãŒãªã„å ´åˆã€12ãƒ¶æœˆã”ã¨ã«è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚",
                category: "å¥‘ç´„"
            },
            "é€”ä¸­è§£ç´„": {
                answer: "æœ€ä½åˆ©ç”¨æœŸé–“å†…ã«è§£ç´„ã•ã‚Œã‚‹å ´åˆã€æ®‹ã‚Šã®æœŸé–“åˆ†ã®åˆ©ç”¨æ–™é‡‘ã«ç›¸å½“ã™ã‚‹é‡‘é¡ã‚’é•ç´„é‡‘ã¨ã—ã¦ãŠæ”¯æ‰•ã„ã„ãŸã ãå¿…è¦ãŒã‚ã‚Šã€è¿”é‡‘ã¯ã”ã–ã„ã¾ã›ã‚“ã€‚",
                category: "å¥‘ç´„"
            },
            "æ”¯æ‰•ã„æ–¹æ³•": {
                answer: "ã”å¥‘ç´„æ™‚ã«ã€åŸºæœ¬æ–™é‡‘ãƒ»è¨˜å¸³ä»£è¡Œæ–™é‡‘ãƒ»ä¼šè¨ˆã‚½ãƒ•ãƒˆä½¿ç”¨æ–™ã®1å¹´åˆ†ã¨ã€ç”³å‘Šæ–™ã®åˆè¨ˆé¡ã‚’å‰æ‰•ã„ã§ãŠæ”¯æ‰•ã„ã„ãŸã ãã¾ã™ã€‚",
                category: "å¥‘ç´„"
            },

            // ç”³å‘Šã«ã¤ã„ã¦
            "ç”³å‘Š": {
                answer: "æœŸé™å†…ã«ç”³å‘Šã‚’å®Œäº†ã•ã›ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®æœŸé™ã¾ã§ã«ã”å¥‘ç´„ã‚’ãŠé¡˜ã„ã—ã¦ãŠã‚Šã¾ã™ï¼š\n\nâ€¢ å€‹äººäº‹æ¥­ä¸»ã®æ–¹ï¼ˆç¢ºå®šç”³å‘Šï¼‰ï¼šç¢ºå®šç”³å‘Šã®æœŸæ—¥ï¼ˆåŸå‰‡3æœˆ15æ—¥ï¼‰ã®1ãƒ¶æœˆå‰ã¾ã§\nâ€¢ æ³•äººã®æ–¹ï¼ˆæ±ºç®—ç”³å‘Šï¼‰ï¼šæ³•äººã®æ±ºç®—æœˆã®1ãƒ¶æœˆå‰ã¾ã§\n\nä¾‹ï¼š12æœˆæ±ºç®—ã®æ³•äººã®å ´åˆã€11æœˆæœ«ã¾ã§ã®ã”å¥‘ç´„ãŒå¿…è¦ã§ã™ã€‚",
                category: "ç”³å‘Š"
            },
            "ç¢ºå®šç”³å‘Š": {
                answer: "æœŸé™å†…ã«ç”³å‘Šã‚’å®Œäº†ã•ã›ã‚‹ãŸã‚ã€ç¢ºå®šç”³å‘Šã®æœŸæ—¥ï¼ˆåŸå‰‡3æœˆ15æ—¥ï¼‰ã®1ãƒ¶æœˆå‰ã¾ã§ã«ã”å¥‘ç´„ã‚’ãŠé¡˜ã„ã—ã¦ãŠã‚Šã¾ã™ã€‚ä¸Šè¨˜ã®æœŸé™ã‚’éãã¦ã‹ã‚‰ã®ã”å¥‘ç´„ã®å ´åˆã€æœŸé™å†…ã®ç”³å‘Šã‚’ãŠå—ã‘ã§ããªã„å¯èƒ½æ€§ãŒã”ã–ã„ã¾ã™ã€‚",
                category: "ç”³å‘Š"
            },

            // ãã®ä»–
            "é‹å–¶ä¼šç¤¾": {
                answer: "ã‚½ãƒ«ãƒ“ã‚¹ç¨ç†å£«æ³•äººãŒé‹å–¶ã—ã¦ãŠã‚Šã¾ã™ã€‚",
                category: "ãã®ä»–"
            }
        };

        let chatHistory = [];
        let isTyping = false;

        // ãƒãƒ£ãƒƒãƒˆåˆæœŸåŒ–
        function initializeChat() {
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // å…¥åŠ›æ¬„ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
            document.getElementById('chatInput').focus();
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message === '' || isTyping) return;
            
            // ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤º
            const welcomeMessage = document.getElementById('welcomeMessage');
            if (welcomeMessage) {
                welcomeMessage.style.display = 'none';
            }
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            addMessage('user', message);
            input.value = '';
            autoResize(input);
            
            // ãƒœãƒƒãƒˆã®è¿”ç­”ã‚’ç”Ÿæˆ
            generateBotResponse(message);
            
            // ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã«è¿½åŠ 
            chatHistory.push({
                type: 'user',
                message: message,
                timestamp: new Date()
            });
        }

        // ã‚¯ã‚¤ãƒƒã‚¯è³ªå•é€ä¿¡
        function sendQuickQuestion(question) {
            const input = document.getElementById('chatInput');
            input.value = question;
            sendMessage();
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ 
        function addMessage(type, content, showTime = true) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString('ja-JP', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            if (type === 'bot') {
                messageDiv.innerHTML = `
                    <div class="bot-avatar">AI</div>
                    <div class="message-content">
                        ${content.replace(/\n/g, '<br>')}
                        ${showTime ? `<div class="message-time">${timeString}</div>` : ''}
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-content">
                        ${content.replace(/\n/g, '<br>')}
                        ${showTime ? `<div class="message-time">${timeString}</div>` : ''}
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ãƒœãƒƒãƒˆã®è¿”ç­”ç”Ÿæˆ
        function generateBotResponse(userMessage) {
            isTyping = true;
            
            // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                const response = findBestResponse(userMessage);
                addMessage('bot', response);
                
                // ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã«è¿½åŠ 
                chatHistory.push({
                    type: 'bot',
                    message: response,
                    timestamp: new Date()
                });
                
                isTyping = false;
            }, 1000 + Math.random() * 1000); // 1-2ç§’ã®ãƒ©ãƒ³ãƒ€ãƒ é…å»¶
        }

        // æœ€é©ãªè¿”ç­”ã‚’æ¤œç´¢
        function findBestResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°
            for (const [key, value] of Object.entries(faqDatabase)) {
                if (message.includes(key.toLowerCase())) {
                    return value.answer;
                }
            }
            
            // éƒ¨åˆ†ãƒãƒƒãƒãƒ³ã‚°
            if (message.includes('ã‚µãƒ¼ãƒ“ã‚¹') || message.includes('ä½•')) {
                return faqDatabase["ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹"].answer;
            }
            if (message.includes('æ–™é‡‘') || message.includes('å€¤æ®µ') || message.includes('è²»ç”¨')) {
                return faqDatabase["æ–™é‡‘"].answer;
            }
            if (message.includes('å¥‘ç´„') || message.includes('æœŸé–“')) {
                return faqDatabase["å¥‘ç´„æœŸé–“"].answer;
            }
            if (message.includes('è§£ç´„') || message.includes('ã‚„ã‚')) {
                return faqDatabase["é€”ä¸­è§£ç´„"].answer;
            }
            if (message.includes('ç”³å‘Š') || message.includes('ç¢ºå®šç”³å‘Š')) {
                return faqDatabase["ç¢ºå®šç”³å‘Š"].answer;
            }
            if (message.includes('ä¼šç¤¾') || message.includes('é‹å–¶')) {
                return faqDatabase["é‹å–¶ä¼šç¤¾"].answer;
            }
            
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¿”ç­”
            return `ã”è³ªå•ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\n\nç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€ãŠå•ã„åˆã‚ã›ã®å†…å®¹ã«ã¤ã„ã¦è©³ç´°ãªå›ç­”ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\n\nä»¥ä¸‹ã®ã‚ˆã†ãªè³ªå•ã«ãŠç­”ãˆã§ãã¾ã™ï¼š\nâ€¢ ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã«ã¤ã„ã¦\nâ€¢ æ–™é‡‘ã«ã¤ã„ã¦\nâ€¢ å¥‘ç´„ãƒ»è§£ç´„ã«ã¤ã„ã¦\nâ€¢ ç¢ºå®šç”³å‘Šã«ã¤ã„ã¦\nâ€¢ ãã®ä»–ã®ã‚ˆãã‚ã‚‹ã”è³ªå•\n\nã‚ˆã‚Šå…·ä½“çš„ãªã”è³ªå•ã‚’ã„ãŸã ã‘ã‚Œã°ã€è©³ã—ããŠç­”ãˆã§ãã¾ã™ã€‚\n\nã¾ãŸã€ç›´æ¥ã®ã”ç›¸è«‡ã‚’ã”å¸Œæœ›ã®å ´åˆã¯ã€ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ã€Œç”³è¾¼ã¯ã“ã¡ã‚‰ã€ã‹ã‚‰ãŠç”³ã—è¾¼ã¿ãã ã•ã„ã€‚`;
        }

        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
        function showTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            const messagesContainer = document.getElementById('chatMessages');
            indicator.style.display = 'flex';
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼éè¡¨ç¤º
        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            indicator.style.display = 'none';
        }

        // å…¥åŠ›æ¬„ã®è‡ªå‹•ãƒªã‚µã‚¤ã‚º
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
        function handleInputKeydown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeChat();
        });
    </script>

    <script src="script.js"></script>
</body>
</html>